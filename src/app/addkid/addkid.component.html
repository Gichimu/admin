<div class="container">
  <div class="content">
    <mat-card>
      <mat-card-content>
        <h3 class="text-center">Create Child Record</h3>

        <mat-vertical-stepper linear #stepper>
          <mat-step
            [stepControl]="firstFormGroup"
            errorMessage="Full name is required."
          >
            <form [formGroup]="firstFormGroup">
              <ng-template matStepLabel>Full name</ng-template>
              <div class="form-inputs">
                <div class="bio">
                  <mat-form-field>
                    <mat-label>First Name</mat-label>
                    <input 
                      matInput
                      formControlName="firstCtrl"
                      name="firstCtrl"
                      required
                    />
                  </mat-form-field>
                  <span class="example-spacer"></span>
                  <mat-form-field>
                    <mat-label>Middle Name</mat-label>
                    <input
                      matInput
                      formControlName="secondCtrl"
                      name="secondCtrl"
                      required
                    />
                  </mat-form-field>
                  <span class="example-spacer"></span>
                  <mat-form-field>
                    <mat-label>Last Name</mat-label>
                    <input
                      matInput
                      formControlName="lastCtrl"
                      name="lastCtrl"
                      
                    />
                  </mat-form-field>
                </div>
                

                <div>
                  <mat-form-field>
                    <mat-label>Gender</mat-label>
                    <mat-select formControlName="gender" name="gende" required>
                      <mat-option *ngFor="let sex of sexes" [value]="sex.value">
                        {{sex.viewValue}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
                <!-- <span class="example-spacer"></span>
                <mat-form-field>
                  <mat-button-toggle-group
                    name="fontStyle"
                    aria-label="Font Style"
                  >
                    <mat-button-toggle value="bold">Bold</mat-button-toggle>
                    <mat-button-toggle value="italic">Italic</mat-button-toggle>
                    <mat-button-toggle value="underline"
                      >Underline</mat-button-toggle
                    >
                  </mat-button-toggle-group>
                </mat-form-field> -->
              </div>
              <div>
                <button mat-button matStepperNext>Next</button>
              </div>
            </form>
          </mat-step>

          <mat-step [stepControl]="secondFormGroup">
            <form
              [formGroup]="secondFormGroup"
              errorMessage="Next of kin name and number are required."
            >
              <ng-template matStepLabel>Next of kin</ng-template>
              <div class="form-inputs">
                <div class="bio">
                  <mat-form-field>
                    <mat-label>First Name</mat-label>
                    <input
                      matInput
                      formControlName="nokCtrlName"
                      name="nokCtrlName"
                      required
                    />
                  </mat-form-field>
                  <span class="example-spacer"></span>
                  <mat-form-field>
                    <mat-label>Last Name</mat-label>
                    <input
                      matInput
                      formControlName="nokCtrlLastName"
                      name="nokCtrlLastName"
                      required
                    />
                  </mat-form-field>
                  <span class="example-spacer"></span>
                  <mat-form-field>
                    <mat-label>Phone</mat-label>
                    <input
                      matInput
                      formControlName="nokCtrlNumber"
                      type="number"
                      name="nokCtrlNumber"
                      minlength="9"
                      required
                    />
                  </mat-form-field>
                </div>
                <div>
                  <mat-form-field>
                    <mat-label>Relation</mat-label>
                    <mat-select formControlName="relation" name="relation" required>
                      <mat-option *ngFor="let relation of relations" [value]="relation.value">
                        {{relation.viewValue}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
              <div>
                <button mat-button matStepperPrevious>Back</button>
                <button mat-button matStepperNext>Next</button>
              </div>
            </form>
          </mat-step>
          <mat-step [stepControl]="thirdFormGroup">
            <form [formGroup]="thirdFormGroup" errorMessage="Dob is required.">
              <ng-template matStepLabel>Date of birth</ng-template>
              <mat-form-field class="example-full-width" appearance="fill">
                <mat-label>Choose a date</mat-label>
                <input
                  matInput
                  formControlName="thirdCtrl"
                  name="thirdCtrl"
                  [matDatepicker]="picker"
                  [matDatepickerFilter]="myFilter"
                  required
                />
                <mat-datepicker-toggle matSuffix [for]="picker">
                  <mat-icon matDatepickerToggleIcon>calendar_month</mat-icon>
                </mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
              </mat-form-field>

              <div>
                <button mat-button matStepperPrevious>Back</button>
                <button mat-button matStepperNext>Next</button>
              </div>
            </form>
          </mat-step>
          <mat-step>
            <ng-template matStepLabel>Upload picture</ng-template>
            <ngx-uploadcare-widget
              images-only="true"
              (on-upload-complete)="handleUpload($event)"
              public-key="bfdb08a1fed1afb78693"
              crop="free"
              image-shrink="800x600"
            >
            </ngx-uploadcare-widget>
            <div>
              <button mat-button matStepperPrevious>Back</button>
              <button mat-button matStepperNext>Next</button>
            </div>
          </mat-step>
          <mat-step>
            <ng-template matStepLabel>Done</ng-template>

            <div>
              <button mat-button (click)="stepper.reset()">Reset</button>
              <button mat-button (click)="uploadForm()">
                Finish
              </button>
            </div>
          </mat-step>
        </mat-vertical-stepper>
      </mat-card-content>
    </mat-card>
  </div>
</div>
